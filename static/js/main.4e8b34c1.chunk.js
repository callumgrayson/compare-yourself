(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t){},324:function(e,t,a){e.exports=a.p+"static/media/face-text.5470cb80.png"},5619:function(e,t,a){e.exports=a(6035)},6032:function(e,t,a){},6035:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(41),o=a.n(r),i=a(328),s=a(6038),c=a(6037),u=a(6041),m=a(6040),d=a(19),h=a(7),p=a(77),f=a.n(p),g=a(55),b=a(56),v=a(58),x=a(57),E=a(59),y=a(117),w=a(324),j=a.n(w),S=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement("div",{className:e.home},l.a.createElement("div",{className:e.cyBox},l.a.createElement("h1",null,"Compare Yourself"),l.a.createElement("h3",null,"A Full Stack Project"),l.a.createElement(c.a,{to:"/s",style:{textDecoration:"none"}},l.a.createElement(h.a,{variant:"contained",color:"primary"},l.a.createElement(y.a,{className:e.icon}),"Compare Yourself")),l.a.createElement("ul",null,l.a.createElement("li",null,"React on the front"),l.a.createElement("li",null,"AWS for the back and auth"),l.a.createElement("li",null,"Add your details and compare yourself!")),l.a.createElement("div",{className:e.img})))}}]),t}(n.Component),C=Object(d.withStyles)(function(e){return{home:{display:"block",boxSizing:"border-box",margin:0,padding:10,height:"100%"},cyBox:{margin:"auto",boxSizing:"border-box",display:"flex",flexDirection:"column",width:"100%",maxWidth:"600px",height:"95%",justifyContent:"flex-start",alignItems:"flex-start",padding:"0 10px 20px 10px",borderRadius:20},img:{display:"block",boxSizing:"border-box",height:"80%",width:"100%",padding:20,backgroundImage:"url(".concat(j.a,")"),backgroundSize:"cover",backgroundPosition:"center center",borderRadius:20},icon:{marginRight:10}}})(S),D=function(e){function t(){return Object(g.a)(this,t),Object(v.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.props.classes;return l.a.createElement("svg",{viewBox:"0 0 32 32",className:e.redRocket},l.a.createElement("path",{d:"M22 2 l-10 10 h-6l-6 8 c0 0 6.357-1.77 10.065-0.94 l-10.065 12.94 13.184-10.255 c1.839 4.208-1.184 10.255-1.184 10.255l8-6 v-6l10-10 2-10-10 2z"}))}}]),t}(l.a.Component),O=Object(d.withStyles)({redRocket:{fill:"red"}})(D),k=a(118),N=a(326),I=a(39);var B=Object(d.withStyles)(function(e){return{userBox:{display:"flex",flexWrap:"wrap",width:"100%",textAlign:"center",flexDirection:"column"},listBox:{display:"flex",width:"100%"},titleBox:{display:"flex",width:"100%",justifyContent:"center"},title:{display:"flex",margin:"10px 0 5px 0"},listPrev:{display:"flex",width:"100%",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",paddingRight:10,paddingLeft:10},listPrevItem:{display:"flex",width:200,textAlign:"center"},buttonBox:{position:"relative",display:"flex",flexDirection:"row",width:"100%",justifyContent:"flex-end",bottom:60},editButton:{position:"relative",right:10}}})(function(e){var t=e.classes,a=e.handleEdit,n=e.userData,r=n.mobile,o=n.height,i=n.shoe;return l.a.createElement("div",{className:t.userBox},l.a.createElement("div",{className:t.savedBox},l.a.createElement("div",{className:t.titleBox},l.a.createElement(h.n,{align:"center",variant:"subtitle2",className:t.title},"Your Saved Data")),l.a.createElement("div",{className:t.listBox},l.a.createElement(h.d,{className:t.listPrev},l.a.createElement(h.e,{className:t.listPrevItem},l.a.createElement(h.f,{primary:r,secondary:"Mobile Value ($)"})),l.a.createElement(h.e,{className:t.listPrevItem},l.a.createElement(h.f,{primary:o,secondary:"Height (cm)"})),l.a.createElement(h.e,{className:t.listPrevItem},l.a.createElement(h.f,{primary:i,secondary:"Shoe Count (pairs)"})))),l.a.createElement("div",{className:t.buttonBox},l.a.createElement(h.c,{size:"small",color:"default","aria-label":"Edit",className:t.editButton,onClick:a},l.a.createElement(h.b,null,"edit_icon")))))});var A=Object(d.withStyles)(function(e){return{userBox:{display:"flex",flexWrap:"wrap",width:"100%",background:"#fff",justifyContent:"center",textAlign:"center",flexDirection:"column"},form:{display:"flex",flexDirection:"row",alignItems:"baseline",justifyContent:"space-around",background:"#fff"},subform:{display:"flex",flexWrap:"wrap",justifyContent:"center"},fields:{display:"flex",flexWrap:"wrap",justifyContent:"center"},field:{marginLeft:10,marginRight:10},buttonBoxCY:{display:"flex",justifyContent:"center",width:"100%",marginBottom:30,marginTop:10}}})(function(e){var t=e.userDataToPost,a=t.mobile,n=t.height,r=t.shoe,o=e.classes,i=e.handleChange,s=e.handleSubmit;return l.a.createElement("div",{className:o.userBox},l.a.createElement("form",{className:o.form,onSubmit:s},l.a.createElement("div",{className:o.subform},l.a.createElement("div",{className:o.fields},l.a.createElement(h.m,{name:"mobile",label:"Mobile Value ($)",value:a,onChange:i,margin:"normal",className:o.field}),l.a.createElement(h.m,{name:"height",label:"Height (cm)",value:n,onChange:i,margin:"normal",className:o.field}),l.a.createElement(h.m,{name:"shoe",label:"Shoe Count (pairs)",value:r,onChange:i,margin:"normal",className:o.field})),l.a.createElement("div",{className:o.buttonBoxCY},l.a.createElement(h.a,{type:"submit",color:"primary",variant:"contained"},"Submit")))))});function _(e){var t=e.userId,a=e.rowId,n=e.classes,r=e.handleDelete,o=e.mobile,i=e.height,s=e.shoe,c=t===a,u=c?n.rowHighlight:n.rowRegular;return l.a.createElement(h.l,{className:u},l.a.createElement(h.j,{align:"center"},o),l.a.createElement(h.j,{align:"center"},i),l.a.createElement(h.j,{align:"center"},s),l.a.createElement(h.j,{className:n.deleteBox},c&&l.a.createElement(h.c,{color:"primary",onClick:r},l.a.createElement(y.b,null))))}function P(e){var t=e.userId,a=e.personsData,n=e.classes,r=e.handleDelete;return a.length?l.a.createElement("div",{className:n.tableBox},l.a.createElement(h.h,{className:n.tableCY,padding:"checkbox"},l.a.createElement(h.k,null,l.a.createElement(h.l,null,l.a.createElement(h.j,{align:"center"},"Mobile ($)"),l.a.createElement(h.j,{align:"center"},"Height (cm)"),l.a.createElement(h.j,{align:"center"},"Shoe Count (pairs)"),l.a.createElement(h.j,null))),l.a.createElement(h.i,null,a.map(function(e){return l.a.createElement(_,{key:e.userId,rowId:e.userId,mobile:e.mobile,height:e.height,shoe:e.shoe,handleDelete:r,classes:n,userId:t})})))):l.a.createElement("div",{className:n.captionBox},l.a.createElement(h.n,null,"Fetch to see all stored data..."))}var z=Object(d.withStyles)(function(e){return{cyGet:{marginTop:5,paddingBottom:20,minHeight:60},buttonBoxSeeAll:{display:"flex",justifyContent:"flex-end"},tableRender:{width:"100%"},tableBox:{width:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},tableCY:{margin:"auto",minWidth:100,maxWidth:500},captionBox:{display:"flex",justifyContent:"flex-end"},rowHighlight:{background:"#fccccf"},rowRegular:{background:"inherit"}}})(function(e){var t=e.classes,a=e.userId,n=e.personsData,r=e.handleGetAll,o=e.handleDelete;return l.a.createElement("div",{className:t.cyGet},l.a.createElement("div",{className:t.buttonBoxSeeAll},l.a.createElement(h.a,{className:t.seeAll,type:"submit",variant:"contained",color:"default",onClick:r,size:"small"},"See All Data")),l.a.createElement(P,{className:t.tableRender,userId:a,personsData:n,classes:t,handleDelete:o}))}),R=a(6039),T=function(e){function t(){var e,a;Object(g.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(v.a)(this,(e=Object(x.a)(t)).call.apply(e,[this].concat(l)))).state={redirectHome:!1},a.handleSignOut=function(){p.Auth.signOut().then(function(e){console.log("in handleSignOut: signedout - data: ",e),a.setState(function(){return{redirectHome:!0}})}).catch(function(e){return console.error(e)})},a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"render",value:function(){var e=this.state.redirectHome,t=this.props.classes;return!0===e?l.a.createElement(R.a,{to:"/"}):l.a.createElement(h.a,{color:"default",size:"small",className:t.button,onClick:this.handleSignOut},"Sign Out")}}]),t}(l.a.Component),Y=Object(d.withStyles)({button:{position:"absolute",top:6,right:20}})(T),W=a(92),G=a.n(W),H="https://4veilmjznk.execute-api.ap-southeast-1.amazonaws.com/dev/compare-yourself",L={getSingle:function(e){return G.a.get("".concat(H,"/single"),{params:{userId:e}}).catch(function(e){return console.log(e)})},getAll:function(){return G.a.get("".concat(H,"/all"),{headers:{"Content-Type":"application/json"}}).catch(function(e){return console.log(e)})},postSingle:function(e){var t=e.userId,a=e.mobile,n=e.height,l=e.shoe,r=e.timestamp;return G.a.post("".concat(H),{userId:t,mobile:a,height:n,shoe:l,timestamp:r},{headers:{"Content-Type":"application/json"}}).catch(function(e){return console.log(e)})}},M=a(327),q=function(e){function t(e){var a;return Object(g.a)(this,t),(a=Object(v.a)(this,Object(x.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(function(e){return{userDataToPost:Object(N.a)({},e.userDataToPost,Object(k.a)({},n,l))}})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.userDataToPost,n={mobile:t.mobile,height:t.height,shoe:t.shoe,userId:a.state.userId,timestamp:Date.now()};L.postSingle(n).then(function(e){var t=JSON.parse(e.config.data);if("Post Successful"===e.data.message){var n=t.mobile,l=t.height,r=t.shoe;a.setState({userData:{mobile:n,height:l,shoe:r},userDataToPost:{mobile:"",height:"",shoe:""},showInputs:!1})}}).then(function(){a.handleGetAll()}).catch(function(e){return console.log(e)})},a.state={userId:"",userData:{},personsData:[],userDataToPost:{mobile:"",height:"",shoe:""},showInputs:!1,showAll:!1,firstRender:!0},a.handleChange=a.handleChange.bind(Object(I.a)(Object(I.a)(a))),a.handleEdit=a.handleEdit.bind(Object(I.a)(Object(I.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(I.a)(Object(I.a)(a))),a.handleGetAll=a.handleGetAll.bind(Object(I.a)(Object(I.a)(a))),a.handleDelete=a.handleDelete.bind(Object(I.a)(Object(I.a)(a))),a}return Object(E.a)(t,e),Object(b.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.Auth.currentAuthenticatedUser().then(function(t){var a=t.attributes.sub;return e.setState({userId:a}),a}).then(function(t){L.getSingle(t).then(function(t){var a=t.data[0],n=a.mobile,l=a.height,r=a.shoe,o=!(n||l||r);e.setState({userData:{mobile:n,height:l,shoe:r},showInputs:o,firstRender:!1})}).catch(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},{key:"handleEdit",value:function(){this.setState({showInputs:!0})}},{key:"handleGetAll",value:function(){var e=this;L.getAll().then(function(t){var a=t.data.map(function(e){return{userId:e.userId,mobile:e.mobile,height:e.height,shoe:e.shoe}});e.setState({personsData:a})}).catch(function(e){return console.log(e)})}},{key:"handleDelete",value:function(){var e=this.state.userId,t=this.state.personsData.filter(function(t){return t.userId!==e});this.setState({userData:{},personsData:t,showInputs:!0})}},{key:"render",value:function(){var e=this.props.classes,t=this.state,a=t.userId,n=t.userData,r=t.userDataToPost,o=t.personsData;return l.a.createElement("div",{className:e.bigContainerCY},l.a.createElement(Y,null),l.a.createElement("div",{className:e.paperCY},l.a.createElement(h.n,{variant:"h6",align:"center",gutterBottom:!0},"Compare Yourself"),this.firstRender?l.a.createElement("div",{className:e.loadingSingle},"Loading..."):this.state.showInputs?l.a.createElement(A,{handleChange:this.handleChange,handleSubmit:this.handleSubmit,userDataToPost:r}):l.a.createElement(B,{handleEdit:this.handleEdit,userData:n}),l.a.createElement(z,{userId:a,personsData:o,handleGetAll:this.handleGetAll,handleDelete:this.handleDelete})))}}]),t}(n.Component),F=Object(d.withStyles)({bigContainerCY:{margin:0,padding:0,width:"100%",height:"97%",display:"flex",justifyContent:"center"},paperCY:{marginTop:10,paddingBottom:20,width:"100%",height:"90%",display:"flex",flexDirection:"column",margin:10,padding:10,maxWidth:700}})(Object(M.withAuthenticator)(q)),$={aws_project_region:"ap-southeast-1",aws_cognito_region:"ap-southeast-1",aws_user_pools_id:"ap-southeast-1_bYFCFIyub",aws_user_pools_web_client_id:"6u09m071jtbkk6gqbknq4emcof",aws_content_delivery_bucket:"sitecom4",aws_content_delivery_bucket_region:"ap-southeast-1",aws_content_delivery_url:"https://d2ssqqtacm1dln.cloudfront.net"};f.a.configure($);var J=function(e){var t=e.component,a=Object(i.a)(e,["component"]);return l.a.createElement(m.a,Object.assign({},a,{render:function(e){return l.a.createElement(t,e)}}))},V=Object(d.withStyles)({appmain:{boxSizing:"border-box",display:"block",position:"fixed",top:0,bottom:0,left:0,right:0},routeContent:{boxSizing:"border-box",display:"block",margin:0,padding:0,height:"100%",width:"100%",overflow:"scroll"},appbar:{display:"flex",boxSizing:"border-box",justifyContent:"flex-start",alignItems:"center",height:"40px",width:"100%",background:"#ddd",padding:"0 6px"},home:{display:"block",width:"100%",textDecoration:"none",underline:"none"},rocketLink:{width:40,height:40,position:"absolute",bottom:"5vmin",right:"5vmin",transitionDuration:"200ms",userSelect:"none","&:hover":{transform:"rotate(-15deg)"},"&:active":{transform:"scale(1.05)"}}})(function(e){var t=e.classes;return console.log("This is the process.env","/compare-yourself"),l.a.createElement(s.a,{basename:"/compare-yourself"},l.a.createElement("div",{className:t.appmain},l.a.createElement("div",{className:t.appbar},l.a.createElement(c.a,{to:"/"},l.a.createElement(h.c,{color:"default",className:t.home,"aria-label":"Go Home"},l.a.createElement(h.g,{fontSize:"large"},l.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}))))),l.a.createElement("div",{className:t.routeContent},l.a.createElement(u.a,null,l.a.createElement(m.a,{exact:!0,path:"/",component:C}),l.a.createElement(J,{path:"/s",component:F}))),l.a.createElement("div",{className:t.rocketLink},l.a.createElement("a",{href:"https://callumgrayson.github.io"},l.a.createElement(O,{className:t.rocketIcon})))))});a(6032),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5619,2,1]]]);
//# sourceMappingURL=main.4e8b34c1.chunk.js.map